"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var utils=require("../../api/utils"),warnLife=utils.warnLife,getUrl=function(){var e=getCurrentPages(),t=e[e.length-1].route,n=t.split("/"),r=n[n.length-1];return swan.setStorageSync({key:"_pageMsg",data:{pageName:r,pagePath:t}}),t},makeEventObj=function(e,t){var n=["data","events","onLoad","onShow","onReady","onHide","onUnload","onShareAppMessage","onTitleClick","onOptionMenuClick","onPopMenuClick","onPullDownRefresh","onPullIntercept","onTabItemTap","onPageScroll","onReachBottom"];Object.keys(t).map(function(e){if(-1===n.indexOf(e)){var r=t[e];t[e]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0]&&t[0].target?(t[0].target.dataset=_objectSpread({},t[0].currentTarget.dataset)||{},r.call(this,t[0])):r.apply(this,t)}}})},makeLife=function(e,t){e.onLoad=function(e){getUrl(),t.onResize&&warnLife("There is no onResize life cycle","onResize"),t.onLoad&&t.onLoad.call(this,e)}};module.exports={processTransformationPage:function(e,t){makeEventObj(e,t),e=Object.assign(e,t),makeLife(e,t)}};