"use strict";var utils=require("../../api/utils"),warnLife=utils.warnLife,config={env:"development"},getUrl=function(){var e=getCurrentPages();if(0<e.length){var n=e[e.length-1].route,t=n.split("/"),a=t[t.length-1];swan.setStorageSync({key:"_pageMsg",data:{pageName:a,pagePath:n}})}},watchShakes=function t(){var e=getCurrentPages();if(0<e.length){var n=e[e.length-1].route;if("pages/ant-move-runtime-logs/index"===n||"pages/ant-move-runtime-logs/specific/index"===n)return;swan.watchShake({success:function(){t();var e=swan.getStorageSync({key:"timer"}),n=(new Date).getTime();null===e.data&&swan.setStorageSync({key:"timer",data:{timer:n}}),e.data&&e.data.timer+5e3>n&&swan.confirm({title:"温馨提示",content:"是否进入警告日志页面",confirmButtonText:"马上进入",cancelButtonText:"暂不需要",success:function(e){e.confirm&&swan.navigateTo({url:"../../pages/ant-move-runtime-logs/index"})}}),e.data&&swan.setStorageSync({key:"timer",data:{timer:n}})}})}},makeLifes=function(e,n){n.onPageNotFound&&warnLife("There is no onPageNotFound life cycle","onPageNotFound"),e.onLaunch=function(e){swan.clearStorageSync({key:"logInfo"}),swan.clearStorageSync({key:"_pageMsg"}),getUrl(),"development"===config.env&&watchShakes();var t={};n.onLaunch&&(t={params:{scene:{type:0,desc:"missing"},shareTicket:{type:0,desc:"missing"}}},e=function(e){var n=0<arguments.length&&void 0!==e?e:{};return utils.defineGetter(n,t.params,function(e,n){warnLife("onLaunch's return value is not support ".concat(n," attribute!"),"onLaunch")})}(e),n.onLaunch.call(this,e))},e.onShow=function(e){var t={};n.onShow&&(t={params:{scene:{type:0,desc:"missing"},shareTicket:{type:0,desc:"missing"}}},e=function(e){var n=0<arguments.length&&void 0!==e?e:{};return utils.defineGetter(n,t.params,function(e,n){warnLife("onShow's return value is not support ".concat(n," attribute!"),"onShow")})}(e),n.onShow.call(this,e))},n.onHide&&(e.onHide=function(){n.onHide.call(this)}),n.onError&&(e.onError=function(){n.onError.call(this)})};module.exports={processTransformationApp:function(e,n){e=Object.assign(e,n),makeLifes(e,n)}};